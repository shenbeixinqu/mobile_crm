(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-market-visitresult"],{2002:function(e,t,i){"use strict";i("99af"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("3582");function a(e){var t=new Date,i=t.getFullYear(),n=t.getMonth()+1,a=t.getDate();return"start"===e?i-=10:"end"===e&&(i+=10),n=n>9?n:"0"+n,a=a>9?a:"0"+a,"".concat(i,"-").concat(n,"-").concat(a)}function r(){var e=new Date,t=e.getHours()<10?"0"+e.getHours():e.getHours(),i=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes();return"".concat(t,":").concat(i)}var s={data:function(){return{_id:"",comname:"",e_wangluo:"",e_wangluo_val:"",e_xqclass:"",e_xqclass_val:"",result:"",remark:"",enddata:a({format:!0}),endtime:r(),promoteArray:[{name:"A1 需求意愿强，企业竞争力弱",value:1},{name:"A2 需求意愿中，企业竞争力弱",value:2},{name:"A3 需求意愿弱，企业竞争力弱",value:3},{name:"B1 需求意愿强，企业竞争力强",value:4},{name:"B2 需求意愿中，企业竞争力强",value:5},{name:"B3 需求意愿弱，企业竞争力强",value:6},{name:"C  客户群较窄（冷门、专业行业）",value:7}],netArray:[{name:"网络意识较强",value:1},{name:"有创新意识,网络意识较弱",value:2},{name:"创新意识弱,网络意识较弱",value:3}]}},onLoad:function(e){var t=JSON.parse(decodeURIComponent(e.info));this.comname=t.comname,this._id=t._id},methods:{promoteRequire:function(e){this.e_xqclass=e.detail.value,this.e_xqclass_val=this.promoteArray[this.e_xqclass].value},netRequire:function(e){this.e_wangluo=e.detail.value,this.e_wangluo_val=this.netArray[this.e_wangluo].value},enddataChange:function(e){this.enddata=e.detail.value},endtimeChange:function(e){this.endtime=e.detail.value},formSubmit:function(e){var t=[{name:"visitResult",checkType:"null",checkRule:"",errorMsg:"请输入出访结果"}],i=e.detail.value,a=n.check(i,t);a?uni.request({url:this.$burl+"/api/visits/apply/"+this._id,header:{Authorization:"JWT "+getApp().globalData.token},method:"PUT",data:{e_xqclass:this.e_xqclass_val,e_wangluo:this.e_wangluo_val,finishtime:this.enddata+" "+this.endtime+":00",result:this.result},success:function(e){200==e.data.data.status?uni.navigateTo({url:"./my"}):uni.showToast({title:e.data.msg,icon:"none"})},fail:function(e){}}):uni.showToast({title:n.error,icon:"none"})},back:function(){uni.navigateTo({url:"./mydetail?id="+this._id})},determine:function(){}}};t.default=s},"2a6d":function(e,t,i){"use strict";var n;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return n}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"contentk"},[i("v-uni-view",{staticClass:"uni-padding-wrap uni-common-mt"},[i("v-uni-form",{on:{submit:function(t){arguments[0]=t=e.$handleEvent(t),e.formSubmit.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-form-item uni-column"},[i("v-uni-view",{staticClass:"title"},[e._v("公司名称")]),i("v-uni-input",{staticClass:"uni-input1",attrs:{disabled:!0},model:{value:e.comname,callback:function(t){e.comname=t},expression:"comname"}})],1),i("v-uni-view",{staticClass:"uni-form-item uni-column"},[i("v-uni-view",{staticClass:"title"},[e._v("出访后推广需求")]),i("v-uni-input",{attrs:{type:"text",value:e.e_xqclass,hidden:"true"},model:{value:e.e_xqclass,callback:function(t){e.e_xqclass=t},expression:"e_xqclass"}}),i("v-uni-picker",{attrs:{mode:"selector",range:e.promoteArray,"range-key":"name"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.promoteRequire.apply(void 0,arguments)}}},[e.e_xqclass?i("v-uni-view",{staticClass:"uni-input"},[e._v(e._s(e.promoteArray[e.e_xqclass].name))]):i("v-uni-view",{staticClass:"uni-input"},[e._v("请选择推广需求")])],1)],1),i("v-uni-view",{staticClass:"uni-form-item uni-column"},[i("v-uni-view",{staticClass:"title"},[e._v("出访后网络意识")]),i("v-uni-input",{attrs:{type:"text",value:e.e_wangluo,hidden:"true"},model:{value:e.e_wangluo,callback:function(t){e.e_wangluo=t},expression:"e_wangluo"}}),i("v-uni-picker",{attrs:{mode:"selector",range:e.netArray,"range-key":"name"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.netRequire.apply(void 0,arguments)}}},[e.e_wangluo?i("v-uni-view",{staticClass:"uni-input"},[e._v(e._s(e.netArray[e.e_wangluo].name))]):i("v-uni-view",{staticClass:"uni-input"},[e._v("请选择网络意识")])],1)],1),i("v-uni-view",{staticClass:"uni-form-item uni-column"},[i("v-uni-view",{staticClass:"title"},[e._v("出访结束日期")]),i("v-uni-picker",{attrs:{mode:"date",value:e.enddata},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.enddataChange.apply(void 0,arguments)}},model:{value:e.enddata,callback:function(t){e.enddata=t},expression:"enddata"}},[i("v-uni-view",{staticClass:"uni-input"},[e._v(e._s(e.enddata))])],1)],1),i("v-uni-view",{staticClass:"uni-form-item uni-column"},[i("v-uni-view",{staticClass:"title"},[e._v("出访结束时间")]),i("v-uni-picker",{attrs:{mode:"time",value:e.endtime},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.endtimeChange.apply(void 0,arguments)}},model:{value:e.endtime,callback:function(t){e.endtime=t},expression:"endtime"}},[i("v-uni-view",{staticClass:"uni-input"},[e._v(e._s(e.endtime))])],1)],1),i("v-uni-view",{staticClass:"uni-form-item uni-column"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticClass:"red"},[e._v("*")]),e._v("出访结果")],1),i("v-uni-input",{staticClass:"uni-input1",attrs:{type:"text",name:"visitResult","placeholder-class":"placeholder"},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}})],1),i("v-uni-view",{staticClass:"contentk_bottom"},[i("v-uni-button",{staticClass:"btn btn1",attrs:{type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.back.apply(void 0,arguments)}}},[e._v("返回")]),i("v-uni-button",{staticClass:"btn",attrs:{type:"primary","form-type":"submit"}},[e._v("确定")])],1)],1)],1)],1)},r=[]},3582:function(e,t,i){i("c975"),i("a9e3"),i("4d63"),i("ac1f"),i("25f0"),i("1276"),e.exports={error:"",check:function(e,t){for(var i=0;i<t.length;i++){if(!t[i].checkType)return!0;if(!t[i].name)return!0;if(!t[i].errorMsg)return!0;if(!e[t[i].name])return this.error=t[i].errorMsg,!1;switch(t[i].checkType){case"string":var n=new RegExp("^.{"+t[i].checkRule+"}$");if(!n.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"int":n=new RegExp("^(-[1-9]|[1-9])[0-9]{"+t[i].checkRule+"}$");if(!n.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"between":if(!this.isNumber(e[t[i].name]))return this.error=t[i].errorMsg,!1;var a=t[i].checkRule.split(",");if(a[0]=Number(a[0]),a[1]=Number(a[1]),e[t[i].name]>a[1]||e[t[i].name]<a[0])return this.error=t[i].errorMsg,!1;break;case"betweenD":n=/^-?[1-9][0-9]?$/;if(!n.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;a=t[i].checkRule.split(",");if(a[0]=Number(a[0]),a[1]=Number(a[1]),e[t[i].name]>a[1]||e[t[i].name]<a[0])return this.error=t[i].errorMsg,!1;break;case"betweenF":n=/^-?[0-9][0-9]?.+[0-9]+$/;if(!n.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;a=t[i].checkRule.split(",");if(a[0]=Number(a[0]),a[1]=Number(a[1]),e[t[i].name]>a[1]||e[t[i].name]<a[0])return this.error=t[i].errorMsg,!1;break;case"same":if(e[t[i].name]!=t[i].checkRule)return this.error=t[i].errorMsg,!1;break;case"notsame":if(e[t[i].name]==t[i].checkRule)return this.error=t[i].errorMsg,!1;break;case"email":n=/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(!n.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"phoneno":n=/^((13[0-9])|(14[5|7])|(15([0-9]))|(166)|(17[0-9])|(18[0-9]))\d{8}$|^0\d{2,3}-?\d{7,8}$/;if(!n.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"zipcode":n=/^[0-9]{6}$/;if(!n.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"reg":n=new RegExp(t[i].checkRule);if(!n.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"in":if(-1==t[i].checkRule.indexOf(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"null":if(e[t[i].name].length<1)return this.error=t[i].errorMsg,!1;break}}return!0},isNumber:function(e){return e=Number(e),NaN!=e}}},"4fa3":function(e,t,i){var n=i("5d76");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("735c85e8",n,!0,{sourceMap:!1,shadowMode:!1})},"5d76":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,"uni-page-body[data-v-78022991]{height:100%}.btn[data-v-78022991]{width:50%;height:%?100?%;line-height:%?100?%;font-size:%?28?%;background:#4873c1;border-radius:0;bottom:0;color:#fff}.btn1[data-v-78022991]{background:#d7e8fc;color:#316fd4}.btn1[data-v-78022991]:after{border-radius:0}.contentk[data-v-78022991]{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.contentk_bottom[data-v-78022991]{width:100%;left:0;position:fixed;bottom:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.contentk_top[data-v-78022991]{width:95%;line-height:%?60?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-flex-wrap:wrap;flex-wrap:wrap;font-size:%?24?%;border-bottom:none}.leftwz[data-v-78022991]{width:30%;padding-left:2%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;font-size:%?24?%}.red[data-v-78022991]{color:red;padding-right:%?10?%}.rightwz[data-v-78022991]{width:65%;display:-webkit-box;display:-webkit-flex;display:flex;border:1px #e4e4e4 solid;border-radius:%?10?%;height:%?50?%;line-height:%?50?%;text-indent:1rem}.se-input[data-v-78022991]{width:80%;height:%?50?%;line-height:%?50?%;font-size:%?22?%;border:1px #e4e4e4 solid;border-radius:%?10?%}.uni-form-item[data-v-78022991]{display:-webkit-box;display:-webkit-flex;display:flex;width:100%;padding:%?10?% 0;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.uni-form-item .title[data-v-78022991]{padding:%?10?% 0}.uni-input[data-v-78022991]{height:%?50?%;padding:%?15?% %?25?%;line-height:%?50?%;font-size:%?28?%;background:#fff;-webkit-box-flex:1;-webkit-flex:1;flex:1;border:1px #ddd solid;border-radius:%?10?%;color:grey}.uni-input1[data-v-78022991]{background-color:#f5f7fa;border-color:#e4e7ed;color:#606266;height:%?50?%;padding:%?15?% %?25?%;line-height:%?50?%;font-size:%?28?%;-webkit-box-flex:1;-webkit-flex:1;flex:1;border:1px #ddd solid;border-radius:%?10?%;color:grey}.uni-padding-wrap[data-v-78022991]{width:90%;padding-top:%?20?%;padding-bottom:%?20?%}",""]),e.exports=t},7178:function(e,t,i){"use strict";i.r(t);var n=i("2002"),a=i.n(n);for(var r in n)"default"!==r&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},"739b":function(e,t,i){"use strict";var n=i("4fa3"),a=i.n(n);a.a},ec4f:function(e,t,i){"use strict";i.r(t);var n=i("2a6d"),a=i("7178");for(var r in a)"default"!==r&&function(e){i.d(t,e,(function(){return a[e]}))}(r);i("739b");var s,o=i("f0c5"),u=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"78022991",null,!1,n["a"],s);t["default"]=u.exports}}]);